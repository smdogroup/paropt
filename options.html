<!DOCTYPE html>
<html class="writer-html5" lang="python" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Options and generic interface for ParOpt optimziers &mdash; ParOpt  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Rosenbrock example" href="rosenbrock.html" />
    <link rel="prev" title="ParOpt Overview" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            ParOpt
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Options and generic interface for ParOpt optimziers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#options">Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rosenbrock.html">Rosenbrock example</a></li>
<li class="toctree-l1"><a class="reference internal" href="sellar.html">Sellar problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="parallel_rosenbrock.html">Parallel Rosenbrock</a></li>
<li class="toctree-l1"><a class="reference internal" href="openmdao_example.html">OpenMDAO example</a></li>
<li class="toctree-l1"><a class="reference internal" href="parallel_openmdao_example.html">Parallel OpenMDAO example</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Class reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ParOpt</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Options and generic interface for ParOpt optimziers</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="options-and-generic-interface-for-paropt-optimziers">
<h1>Options and generic interface for ParOpt optimziers<a class="headerlink" href="#options-and-generic-interface-for-paropt-optimziers" title="Permalink to this heading"></a></h1>
<p>ParOpt consists of three different optimizers: an interior point method, a trust-region method and the method of moving asymptotes.</p>
<p>These optimizers can be accessed through the common python interface &quot;ParOpt.Optimizers&quot;.
This python object is allocated with a problem class which inherits from &quot;ParOpt.Problem&quot;, and a dictionary of options.</p>
<p>The optimizer interface is generally executed as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create the optimizer with the specified options. Here we specify a</span>
<span class="c1"># trust-region optimizer, with an initial trust region size of 0.1 and</span>
<span class="c1"># a maximum size of 10.0. All other options are set to default.</span>
<span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;algorithm&#39;</span><span class="p">:</span> <span class="s1">&#39;tr&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tr_init_size&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="s1">&#39;tr_max_size&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">}</span>
<span class="n">opt</span> <span class="o">=</span> <span class="n">ParOpt</span><span class="o">.</span><span class="n">Optimizer</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>

<span class="c1"># Execute the optimization</span>
<span class="n">opt</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span>

<span class="c1"># Extract the optimized values and multipliers</span>
<span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">zw</span><span class="p">,</span> <span class="n">zl</span><span class="p">,</span> <span class="n">zu</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">getOptimizedPoint</span><span class="p">()</span>
</pre></div>
</div>
<p>Switching the above optimization problem to use the interior-point method or the method of moving asymptotes will be as simple as specifying <code class="docutils literal notranslate"><span class="pre">'ip'</span></code> or <code class="docutils literal notranslate"><span class="pre">'mma'</span></code> as the argument associated with <code class="docutils literal notranslate"><span class="pre">'algorithm'</span></code>.</p>
<section id="options">
<span id="options-label"></span><h2>Options<a class="headerlink" href="#options" title="Permalink to this heading"></a></h2>
<p>The option data is populated directly from the C++ code.
The options are pulled from all optimizers, so not all options are applicable.
In general the options specific to the trust region method have <code class="docutils literal notranslate"><span class="pre">tr_</span></code> as a prefix while options associated with the method of moving asymptotes have <code class="docutils literal notranslate"><span class="pre">mma_</span></code> as a prefix.
Options without the <code class="docutils literal notranslate"><span class="pre">tr_</span></code> or <code class="docutils literal notranslate"><span class="pre">mma_</span></code> prefix apply to the interior point method.</p>
<p>The full set of options can displayed as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">paropt</span> <span class="kn">import</span> <span class="n">ParOpt</span>
<span class="n">ParOpt</span><span class="o">.</span><span class="n">printOptionSummary</span><span class="p">()</span>
</pre></div>
</div>
<p>This produces the following output:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Absolute stopping criterion
abs_res_tol                              1e-06          
Range of values: lower limit 0  upper limit 1e+20

Absolute stopping norm on the step size
abs_step_tol                             0              
Range of values: lower limit 0  upper limit 1e+20

The type of optimization algorithm
algorithm                                tr             
Range of values:                         ip             
                                         tr             
                                         mma            

The Armijo constant for the line search
armijo_constant                          1e-05          
Range of values: lower limit 0  upper limit 1

The type of barrier update strategy to use
barrier_strategy                         monotone       
Range of values:                         monotone       
                                         mehrotra       
                                         mehrotra_predictor_corrector
                                         complementarity_fraction

The absolute precision of the design variables
design_precision                         1e-14          
Range of values: lower limit 0  upper limit 1

Exponent in the Eisenstat-Walker INK forcing equation
eisenstat_walker_alpha                   1.5            
Range of values: lower limit 0  upper limit 2

Multiplier in the Eisenstat-Walker INK forcing equation
eisenstat_walker_gamma                   1              
Range of values: lower limit 0  upper limit 1

A small value that controls slanting envelope of the filter
filter_gamma                             1e-05          
Range of values: lower limit 0  upper limit 1

Use feasibility restoration for filter method
filter_has_feas_restore_phase            True           

Use sufficient reduction criteria for filter
filter_sufficient_reduction              True           

The absolute precision of the function and constraints
function_precision                       1e-10          
Range of values: lower limit 0  upper limit 1

The absolute GMRES tolerance (almost never relevant)
gmres_atol                               1e-30          
Range of values: lower limit 0  upper limit 1

The subspace size for GMRES
gmres_subspace_size                      0              
Range of values: lower limit 0  upper limit 1000

Step length used to check the gradient
gradient_check_step_length               1e-06          
Range of values: lower limit 0  upper limit 1

Print to screen the output of the gradient check at this frequency during an optimization
gradient_verification_frequency          -1             
Range of values: lower limit -1000000  upper limit 1000000

Do a hard reset of the Hessian at this specified major iteration frequency
hessian_reset_freq                       1000000        
Range of values: lower limit 1  upper limit 1000000

The initial value of the barrier parameter
init_barrier_param                       0.1            
Range of values: lower limit 0  upper limit 1e+20

Initial value of the line search penalty parameter
init_rho_penalty_search                  0              
Range of values: lower limit 0  upper limit 1e+20

Checkpoint file for the interior point method
ip_checkpoint_file                       None           

Maximum bound value at which bound constraints are omitted
max_bound_value                          1e+20          
Range of values: lower limit 0  upper limit 1e+300

The maximum relative tolerance used for GMRES, above this the quasi-Newton approximation is used
max_gmres_rtol                           0.1            
Range of values: lower limit 0  upper limit 1

Maximum number of line search iterations
max_line_iters                           10             
Range of values: lower limit 1  upper limit 100

The maximum number of major iterations before quiting
max_major_iters                          5000           
Range of values: lower limit 0  upper limit 1000000

Minimum fraction to the boundary rule &lt; 1
min_fraction_to_boundary                 0.95           
Range of values: lower limit 0  upper limit 1

Minimum value of the line search penalty parameter
min_rho_penalty_search                   0              
Range of values: lower limit 0  upper limit 1e+20

Contraction factor applied to the asymptotes
mma_asymptote_contract                   0.7            
Range of values: lower limit 0  upper limit 1

Expansion factor applied to the asymptotes
mma_asymptote_relax                      1.2            
Range of values: lower limit 1  upper limit 1e+20

Relaxation bound for computing the error in the KKT conditions
mma_bound_relax                          0              
Range of values: lower limit 0  upper limit 1e+20

Regularization term applied in the MMA approximation
mma_delta_regularization                 0.001          
Range of values: lower limit 0  upper limit 1e+20

Regularization term applied in the MMA approximation
mma_eps_regularization                   1e-05          
Range of values: lower limit 0  upper limit 1e+20

Infeasibility tolerance 
mma_infeas_tol                           1e-05          
Range of values: lower limit 0  upper limit 1e+20

Initial asymptote offset from the variable bounds
mma_init_asymptote_offset                0.5            
Range of values: lower limit 0  upper limit 1

l1 tolerance for the optimality tolerance
mma_l1_tol                               1e-06          
Range of values: lower limit 0  upper limit 1e+20

l-infinity tolerance for the optimality tolerance
mma_linfty_tol                           1e-06          
Range of values: lower limit 0  upper limit 1e+20

Maximum asymptote offset from the variable bounds
mma_max_asymptote_offset                 10             
Range of values: lower limit 0  upper limit 1e+20

Maximum number of iterations
mma_max_iterations                       200            
Range of values: lower limit 0  upper limit 1000000

Minimum asymptote offset from the variable bounds
mma_min_asymptote_offset                 0.01           
Range of values: lower limit 0  upper limit 1e+20

Move limit for design variables to prevent oscillation
mma_move_limit                           0.2            
Range of values: lower limit 0  upper limit 1e+20

Ouput file name for MMA
mma_output_file                          paropt.mma     

Use a linearization of the constraints in the MMA subproblem
mma_use_constraint_linearization         False          

Factor applied to the barrier update &lt; 1
monotone_barrier_fraction                0.25           
Range of values: lower limit 0  upper limit 1

Exponent for barrier parameter update &gt; 1
monotone_barrier_power                   1.1            
Range of values: lower limit 1  upper limit 10

Switch to the Newton-Krylov method at this residual tolerance
nk_switch_tol                            0.001          
Range of values: lower limit 0  upper limit 1e+20

The type of norm to use in all computations
norm_type                                infinity       
Range of values:                         infinity       
                                         l1             
                                         l2             

Output file name
output_file                              paropt.out     

Output level indicating how verbose the output should be
output_level                             0              
Range of values: lower limit 0  upper limit 1000000

Fraction of infeasibility used to enforce a descent direction
penalty_descent_fraction                 0.3            
Range of values: lower limit 1e-06  upper limit 1

l1 penalty parameter applied to slack variables
penalty_gamma                            1000           
Range of values: lower limit 0  upper limit 1e+20

The problem name
problem_name                             None           

The type of initial diagonal to use in the quasi-Newton approximation
qn_diag_type                             yty_over_yts   
Range of values:                         yty_over_yts   
                                         yts_over_sts   
                                         inner_yty_over_yts
                                         inner_yts_over_sts

Scalar added to the diagonal of the quasi-Newton approximation &gt; 0
qn_sigma                                 0              
Range of values: lower limit 0  upper limit 1e+20

The maximum dimension of the quasi-Newton approximation
qn_subspace_size                         10             
Range of values: lower limit 0  upper limit 1000

The type of quasi-Newton approximation to use, note that scaled_bfgs should be only used when there&#39;s single constraint and objective is linear
qn_type                                  bfgs           
Range of values:                         bfgs           
                                         scaled_bfgs    
                                         sr1            
                                         none           

The type of BFGS update to apply when the curvature condition fails
qn_update_type                           skip_negative_curvature
Range of values:                         skip_negative_curvature
                                         damped_update  

Relative factor applied to barrier parameter for bound constraints
rel_bound_barrier                        1              
Range of values: lower limit 0  upper limit 1e+20

Relative function value stopping criterion
rel_func_tol                             0              
Range of values: lower limit 0  upper limit 1e+20

Discard the quasi-Newton approximation (but not necessarily the exact Hessian)
sequential_linear_method                 False          

Minimum multiplier for the affine step initialization strategy
start_affine_multiplier_min              1              
Range of values: lower limit 0  upper limit 1e+20

Initialize the Lagrange multiplier estimates and slack variables
starting_point_strategy                  affine_step    
Range of values:                         least_squares_multipliers
                                         affine_step    
                                         no_start_strategy

Which strategy to use to decide if a trial point can be accepted or not
tr_accept_step_strategy                  penalty_method 
Range of values:                         penalty_method 
                                         filter_method  

The type of constraint to use for the adaptive penalty subproblem
tr_adaptive_constraint                   linear_constraint
Range of values:                         linear_constraint
                                         subproblem_constraint

Adaptive penalty parameter update
tr_adaptive_gamma_update                 True           

The type of objective to use for the adaptive penalty subproblem
tr_adaptive_objective                    linear_objective
Range of values:                         constant_objective
                                         linear_objective
                                         subproblem_objective

Upper and lower bound relaxing parameter
tr_bound_relax                           0.0001         
Range of values: lower limit 0  upper limit 1e+20

Trust region trial step acceptance ratio
tr_eta                                   0.25           
Range of values: lower limit 0  upper limit 1

Infeasibility tolerance 
tr_infeas_tol                            1e-05          
Range of values: lower limit 0  upper limit 1e+20

The initial trust region radius
tr_init_size                             0.1            
Range of values: lower limit 0  upper limit 1e+20

l1 tolerance for the optimality tolerance
tr_l1_tol                                1e-06          
Range of values: lower limit 0  upper limit 1e+20

l-infinity tolerance for the optimality tolerance
tr_linfty_tol                            1e-06          
Range of values: lower limit 0  upper limit 1e+20

Maximum number of trust region iterations
tr_max_iterations                        200            
Range of values: lower limit 0  upper limit 1000000

The maximum trust region radius
tr_max_size                              1              
Range of values: lower limit 0  upper limit 1e+20

Maximum number of trust region iterations
tr_max_soc_iterations                    20             
Range of values: lower limit 0  upper limit 1000000

The minimum trust region radius
tr_min_size                              0.001          
Range of values: lower limit 0  upper limit 1e+20

Trust region output file
tr_output_file                           paropt.tr      

Maximum value for the penalty parameter
tr_penalty_gamma_max                     10000          
Range of values: lower limit 0  upper limit 1e+20

Minimum value for the penalty parameter
tr_penalty_gamma_min                     0              
Range of values: lower limit 0  upper limit 1e+20

Update quasi-Newton approximation in second order correction steps
tr_soc_update_qn                         False          

The barrier update strategy to use for the steering method subproblem
tr_steering_barrier_strategy             mehrotra_predictor_corrector
Range of values:                         monotone       
                                         mehrotra       
                                         mehrotra_predictor_corrector
                                         complementarity_fraction
                                         default        

The barrier update strategy to use for the steering method subproblem
tr_steering_starting_point_strategy      affine_step    
Range of values:                         least_squares_multipliers
                                         affine_step    
                                         no_start_strategy
                                         default        

Use second order correction when trial step is rejeccted
tr_use_soc                               False          

Write output frequency
tr_write_output_frequency                10             
Range of values: lower limit 0  upper limit 1000000

Perform a back-tracking line search
use_backtracking_alpha                   False          

Use or do not use the diagonal Hessian computation
use_diag_hessian                         False          

Use or do not use Hessian-vector products
use_hvec_product                         False          

Perform or skip the line search
use_line_search                          True           

Use or do not use the quasi-Newton method as a preconditioner
use_qn_gmres_precon                      True           

Update the quasi-Newton approximation at each iteration
use_quasi_newton_update                  True           

Write out the solution file and checkpoint file at this frequency
write_output_frequency                   10             
Range of values: lower limit 0  upper limit 1000000
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="ParOpt Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="rosenbrock.html" class="btn btn-neutral float-right" title="Rosenbrock example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Graeme Kennedy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>